puffy
-----

Dotfiles for OpenBSD.

doas

    # echo "permit persist USERNAME" > /etc/doas.conf

apmd

    $ doas rcctl enable apmd
    $ doas rcctl set apmd flags -A
    $ doas rcctl start apmd

xenodm

    $ doas rcctl enable xenodm
    $ doas rcctl start xenodm
    $ doas vi /etc/X11/xenodm/Xsetup_0

        /usr/X11R6/bin/xsetroot -solid "#090909"

login class

    $ doas usermod -L staff USERNAME

login.conf

    $ doas vi /etc/login.conf

        # See sysctl.conf below for values.
        #
        # -cur: Initial limit.
        # -max: Max limit.
        #
        # datasize:
        #       -cur: shmall / 2
        #       -max: shmall - 256M
        #
        # maxproc:
        #       -max: maxproc / 4
        #       -cur: maxproc / 8
        #
        # openfiles:
        #       -max: maxfiles - 1024
        #       -cur: maxfiles / 2
        #
        # stacksize:
        #       -max: 32M
        #       -cur: 16M
        #
        staff:\
                :datasize-cur=4096M:\
                :datasize-max=7936M:\
                :maxproc-cur=1024:\
                :maxproc-max=2048:\
                :openfiles-cur=8192:\
                :openfiles-max=15360:\
                :stacksize-cur=16M:\
                :stacksize-max=32M:\
                :ignorenologin:\
                :requirehome@:\
                :tc=default:$)/

sysctl.conf

    $ doas vi /etc/sysctl.conf

        # Values for shm based on 8GB RAM.  Divide or multiply based on system.

        # Total number of pages, 1 page per 4096 bytes.
        # For 8GB RAM, 1966080 pages ((8GB - 512M) / 4096).
        kern.shminfo.shmall=1966080

        # Cap for each shm segment.
        # Set to memory divided by 16. 512MB should be enough.
        kern.shminfo.shmmax=536870912

        # Max number of segments in a system
        # Enough space for multitasks, containers, vms.
        kern.shminfo.shmmni=2048

        # Max number of segments a single process can attach to.
        # Allows browsers with many tabs/processes to use multiple segments.
        kern.shminfo.shmseg=2048

        # IPC semaphores (sync between processes)
        # Total semaphores.
        kern.seminfo.semmns=4096

        # Total sets of semaphores.
        # 1024 times average semaphores per set should equal to SEMMNS.
        kern.seminfo.semmni=1024

        # Max processes and open file descriptors.
        # Should be enough for browsers, compiling, multitasking.
        kern.maxproc=8192
        kern.maxfiles=16384

        # Vnode is a kernel abstraction of a file system, it represents a file
        # system object (good for caching). Max tracked filesystem objects by
        # the kernel (open files, dirs, sockets, etc).
        kern.maxvnodes=100000

        # Network tuning
        # Max number of pending TCP connections in listen queue (useful on P2P,
        # modern browsers open tons of connections), 1024 should be enough.
        kern.somaxconn=1024

        # UDP receive and send buffers, useful for streaming and calls.
        # Same values as RootBSD's sysctl.
        net.inet.udp.recvspace=262144
        net.inet.udp.sendspace=262144

        # Max segment size to ethernet MTU.
        net.inet.tcp.mssdflt=1460

        # Reduce idle keepalive time to detect dead connections faster.
        net.inet.tcp.keepidle=300

        # Increase interface queue max length for better burst handling.
        net.inet.ip.ifq.maxlen=4096

        # For IPV6.
        net.inet6.ip6.ifq.maxlen=4096

        # Hardware acceleration requires aperture access.
        machdep.allowaperture=2

install intel firmware

    $ doas fw_update intel

burp

    Download JAR v 1.7.36
        https://portswigger.net/burp/releases/professional-community-1-7-36

    Include jdk-1.8.0 in path
        /usr/local/jdk-1.8.0/bin/
